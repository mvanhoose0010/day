<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sequential Day Maker</title>

<style>
    body {
        font-family: "Inter", Arial, sans-serif;
        background: #88c427;
        margin: 0;
        padding: 40px;
        color: #333;
        line-height: 1.5;
    }

    h2 {
        font-weight: 600;
        font-size: 28px;
        margin-bottom: 20px;
        color: #222;
    }

    label {
        font-weight: 500;
        margin-right: 10px;
        font-size: 18px;
    }

    textarea, input {
        width: 100%;
        font-size: 18px;
        padding: 12px;
        border-radius: 8px;
        border: 1px solid #ccc;
        background: white;
        box-sizing: border-box;
        transition: border 0.2s;
    }

    textarea {
        height: 180px;
        resize: vertical;
        white-space: nowrap;
        overflow-x: auto;
    }

    textarea:focus, input:focus {
        outline: none;
        border-color: #4285f4;
    }

    .input-row {
        margin: 25px 0;
    }

    button {
        padding: 12px 22px;
        font-size: 18px;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        transition: background 0.2s, box-shadow 0.2s;
        margin-right: 10px;
    }

    button:hover {
        box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    }

    #generateBtn {
        background: #4285f4;
        color: white;
    }

    #copyBtn {
        background: #34a853;
        color: white;
        display: none;
    }

    .card {
        background: white;
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        margin-top: 30px;
    }

    pre {
        font-size: 18px;
        white-space: pre;
        overflow-x: auto;
        margin: 0;
        padding: 10px;
        background: #f6f6f6;
        border-radius: 8px;
    }
</style>
</head>

<body>

<h2>Date Auto-Updater (Multiple Sequential Rows)</h2>

<div class="card">
    <p><strong>Paste your full line below:</strong></p>
    <textarea id="inputText"></textarea>

    <div class="input-row">
        <label>Number of rows:</label>
        <input type="number" id="rowCount" value="1" min="1" style="width:120px;">
    </div>

    <button id="generateBtn" onclick="processDates()">Generate Rows</button>
    <button id="copyBtn" onclick="copyOutput()">Copy Output</button>

    <div id="results" class="card" style="display:none; margin-top:25px;">
        <h3 style="margin-top:0;">Output:</h3>
        <pre id="output"></pre>
    </div>
</div>

<script>
function addOneDay(dateObj, days = 1) {
    const d = new Date(dateObj);
    d.setDate(d.getDate() + days);
    return d;
}

function formatYYYYMMDD(dateObj) {
    return dateObj.toISOString().split("T")[0];
}

function formatMMDDYY(dateObj) {
    const mm = String(dateObj.getMonth() + 1).padStart(2, "0");
    const dd = String(dateObj.getDate()).padStart(2, "0");
    const yy = String(dateObj.getFullYear()).slice(-2);
    return mm + dd + yy;
}

function extractDates(line) {
    const embeddedMatch = line.match(/\d{6}/);
    const fullDates = [...line.matchAll(/\b\d{4}-\d{2}-\d{2}\b/g)].map(m => m[0]);

    return {
        embedded: embeddedMatch ? embeddedMatch[0] : null,
        full1: fullDates[0] || null,
        full2: fullDates[1] || null
    };
}

function generateLine(baseLine, dates, offset) {
    let line = baseLine;

    if (dates.embedded) {
        const mm = Number(dates.embedded.slice(0, 2));
        const dd = Number(dates.embedded.slice(2, 4));
        const yy = Number(dates.embedded.slice(4, 6));
        const year = yy < 50 ? 2000 + yy : 1900 + yy;

        const parsed = new Date(year, mm - 1, dd);
        const next = addOneDay(parsed, offset);

        const new6 = formatMMDDYY(next);
        line = line.replace(dates.embedded, new6);
    }

    if (dates.full1) {
        const next = addOneDay(new Date(dates.full1), offset);
        line = line.replace(dates.full1, formatYYYYMMDD(next));
    }

    if (dates.full2) {
        const next = addOneDay(new Date(dates.full2), offset);
        line = line.replace(dates.full2, formatYYYYMMDD(next));
    }

    return line;
}

function processDates() {
    const baseLine = document.getElementById("inputText").value.trim();
    const count = Number(document.getElementById("rowCount").value);

    const dates = extractDates(baseLine);

    let lines = [];

    for (let i = 0; i < count; i++) {
        lines.push(generateLine(baseLine, dates, i + 1));
    }

    const output = lines.join("\n");

    document.getElementById("output").textContent = output;
    document.getElementById("results").style.display = "block";
    document.getElementById("copyBtn").style.display = "inline-block";
}

function copyOutput() {
    const text = document.getElementById("output").textContent;
    navigator.clipboard.writeText(text);
}
</script>

</body>
</html>
